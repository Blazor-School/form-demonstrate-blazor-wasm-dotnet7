@page "/blazor-form-event"
@using FormDemonstration.FormModels
@using Microsoft.AspNetCore.Components.Forms

<h3>BlazorFormEvent</h3>
<EditForm Model="FormModel" OnValidSubmit="ValidSubmit" OnInvalidSubmit="InvalidSubmit">
@*<EditForm Model="FormModel" OnSubmit="Submit">*@
    <DataAnnotationsValidator />
    <ValidationSummary />
    <label>
        Leave textbox empty to make validation error:
        <InputText @bind-Value="FormModel.ExampleString" />
    </label>
    <button>Submit</button>
</EditForm>
@Log

@code {
    public BlazorFormEventFormModel FormModel { get; set; } = new();
    public string Log { get; set; } = "";

    public void InvalidSubmit(EditContext formContext)
    {
        Log += "OnInvalidSubmit fired. ";
    }

    public void ValidSubmit(EditContext formContext)
    {
        Log += "OnValidSubmit fired. ";
    }

    public void Submit(EditContext formContext)
    {
        Log += "OnSubmit fired. ";
    }
}